import { ComponentCardDisplay } from '@teambit/components.blocks.component-card-display';

# Angular Overview

<ComponentCardDisplay componentIds={['teambit.angular/angular']} style={{ float: 'left', margin: 20, maxWidth: 250 }} />

Bit's pre-built [Angular Env](https://bit.dev/teambit/angular) contains an implementation of a [component development environment](https://bit.dev/teambit/envs/envs)
for [Angular](https://angular.io).
It composes together different tools and configs that conform to best practices implemented by the Angular team and projects generated by the Angular CLI.

Use the Angular env to start developing your Angular components. You may also use it as a base for your own customized Angular-based development workflow.

## Getting started

To use this environment, the simplest way is to generate a new workspace with the `ng-workspace` template:

```bash
bit new ng-workspace <workspace-name> -a teambit.angular/angular-v13
```

You can replace `v13` by the Angular version that you want to use (starting from `v8`).

Change directory to the newly created workspace:

```bash
cd <workspace-name>
```

Create a bit component:

```bash
bit create ng-module ui/my-button
```

Install dependencies:

```bash
bit install
```

Start the dev server:

```bash
bit start
```

Open-up your browser on localhost:3000, or any other available port, and display your workspace with your components.

If you already have an existing workspace, you can edit your `workspace.jsonc` configuration file to add the following lines, so you can use component templates for Angular.

```json
{
  // ...
  // Load the angular-v13 environment into the workspace
  "teambit.angular/angular-v13@x.x.x": {},
  // Add Angular component generators to the list of available component templates
  "teambit.generator/generator": {
    "aspects": [
      // Replace `v13` by the version of Angular that you want to use
      "teambit.angular/angular-v13"
    ]
  }
  // ...
}
```

Replace `x.x.x` by the latest version number of the Angular env that you want to use.
You can retrieve that version with the following command:

```bash
npm dist-tag ls @teambit/angular-v13
```

### Choose the right version

Angular development is tightly linked to the version of the framework that you use. Tools and APIs change with each major version.
To simplify the configuration of your projects, Bit Angular provides a different environment for each major version of Angular, from version 8 to 13 (and more as new versions are released).
Those versions are simply named `angular-vX`, with `X` being the version of the framework. For example version 13 is available with the environment `angular-v13`.

:::warning

It is usually not a good idea to use different versions of Angular in the same workspace as you might get errors with the resolution of node modules when different versions of the same package are installed (like `@angular/core` 8 and 13 at the same time).
If you need to develop components for different versions of Angular you should choose the lowest version for all your components, they should be compatible with more recent version of the framework once they are imported in your applications as the Angular compatibility compiler (`ngcc`) will try to ensure the forward compatibility.

:::

For example if you want to use a component in an Angular application running with v8 and in an Angular application running with v13, you should choose the environment `angular-v8` as it will be compatible with both versions 8 and 13.
The only exceptions are if you need to use new APIs that were not present in previous versions, or if you want to use old APIs that have been deprecated and removed from the framework in recent version, in which case you should create two components - one for each version - and consider abstracting the code that is common between the two in a third version-agnostic component.
But most of the time, the framework compilation will remove any version-specific code and replace it with simple ES5 code that is not linked to the version of the framework that you use.
See [Maintaining library compatibility](https://angular.io/guide/ivy#maintaining-library-compatibility) in the Angular documentation.

## Creating Bit components

In Angular, components are a subset of directives, always associated with a template.
In Bit, components refer to a simple code entity that can be shared and reused. It is the **equivalent of libraries** in the Angular world. To avoid any confusion, we will always refer to those as `Bit components`.

The Angular env provides a simple template that can be used to speed up and standardize your development:

- `ng-module` is a basic Bit component for Angular that contains: a module, an Angular component, a spec file, a doc file and a composition.

Use this template with the `bit create` command.

```bash
bit templates # view all available templates in your current workspace.
bit create ng-module ui/my-button # create a simple Bit component with the full name: `ui/my-button`
```

## Development services and configurations

The table below lists services that are provided by the Angular env. Each service handles a specific component development operation. Each is implemented by the Angular env, using a specific Bit Aspect and a set of configurations.

To customize and extend the Angular env, you can create your own Angular env extension <!-- TODO [create your own Angular env extension](/envs/pre-configured-envs/angular/extending-angular#using-your-own-angular-env-extension) -->. This allows you to replace the Aspects used by the env, or override their configurations (use the links provided in the 'customization' column).

| Service                                                  | Aspect                                                   | Default config                                                                                                                                                                                                              | Customization                                                                                                                                                                                                                                                   |
| -------------------------------------------------------- | -------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Compilation](/dev-services/compiler/compiler-overview)  | **Angular CLI & TypeScript**                             | [tsconfig.json](https://bit.dev/teambit/angular/angular/~code/preview/tsconfig.app.json) + some parts generated during compilation                                                                                          | [Override config for development](/envs/pre-configured-envs/angular/extending-angular#override-ts-config-for-workspace-compilation) / [Override config for build](/envs/pre-configured-envs/angular/extending-angular#override-ts-config-for-build-compilation) |
| [Testing](/dev-services/tester/tester-overview)          | **Jest**                                                 | [jest.config.js](https://bit.dev/teambit/angular/angular-v13/~code/jest/jest.config.js)                                                                                                                                     | N/A                                                                                                                                                                                                                                                             |
| [Linting](/dev-services/linter/linter-overview)          | **ESLint**                                               | [eslintrc.ts](https://bit.dev/teambit/angular/angular-eslint-config/~code/eslintrc.ts)                                                                                                                                      | N/A                                                                                                                                                                                                                                                             |
| [Formatting](/dev-services/formatter/formatter-overview) | **Prettier**                                             | (soon)                                                                                                                                                                                                                      | N/A                                                                                                                                                                                                                                                             |
| DevServer                                                | **Webpack**                                              | [webpack.serve.config.ts](https://bit.dev/teambit/angular/angular-v13/~code/webpack/webpack5.serve.config.ts) & [webpack config from Angular CLI](https://bit.dev/teambit/angular/angular-v13/~code/angular-v13.webpack.ts) | Override config                                                                                                                                                                                                                                                 |
| Preview (simulation)                                     | **Webpack**                                              | [webpack.serve.config.ts](https://bit.dev/teambit/angular/angular-v13/~code/webpack/webpack5.serve.config.ts) & [webpack config from Angular CLI](https://bit.dev/teambit/angular/angular-v13/~code/angular-v13.webpack.ts) | Override config                                                                                                                                                                                                                                                 |
| Package                                                  | **Ng-Packagr**                                           | See the [Ng-Packagr Aspect](https://bit.dev/teambit/angular/ng-packagr/~code/ng-packagr.main.runtime.ts) config                                                                                                             | Override config                                                                                                                                                                                                                                                 |
| Bundling                                                 | **Webpack**                                              | [webpack.build.config.ts](https://bit.dev/teambit/angular/angular-v13/~code/webpack/webpack5.build.config.ts) config                                                                                                        | Override config                                                                                                                                                                                                                                                 |
| Documentation                                            | _Core implementation_                                    | [Docs template](https://bit.dev/teambit/angular/angular/~code/docs/index.tsx)                                                                                                                                               | N/A                                                                                                                                                                                                                                                             |
| Build pipeline                                           | **Webpack**                                              | [Build pipeline](https://bit.dev/teambit/angular/angular/~code/angular.env.ts)                                                                                                                                              | Customize the build pipeline                                                                                                                                                                                                                                    |
| Dependencies                                             | _Core implementation_                                    | [Env-dependencies](https://bit.dev/teambit/angular/angular/~code/angular.env.ts)                                                                                                                                            | Override Env dependencies                                                                                                                                                                                                                                       |
| Component Generator                                      | [Generator](https://bit.dev/teambit/generator/generator) | [Example template](https://bit.dev/teambit/angular/angular/~code/templates/ng-module/template-files/src/component.ts)                                                                                                       | Add a component template                                                                                                                                                                                                                                        |
