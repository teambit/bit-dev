# Component ID

import { Image } from '@teambit/docs.ui.zoomable-image';
import nestedNamespaces from './namespaces_nested.png';
import componentID from './component-id.png';

Component's name describes the component's business concern in a descriptive form, improving discoverability and understanding the component's purpose. Bit uses four tools to define the component ID:

* Owner - the organization or individual that owns the component. **Required**.
* Scope - grouping related components together, representing the main business concern of a component. **Required**.
* Namespaces - an array of virtual directories to sort components. **Optional**.
* Name - the name of the component. **Required**.
 
<img src={componentID} style={{ maxHeight:'200px' }} />


## Set Component ID

You decide the component ID when creating it with `create` or `add` commands. If not stated otherwise, the component will get the `defaultScope` value from `workspace.jsonc` and will not have any namespaces.

```bash
bit create react button
```

Generates the following component ID:

```bash
company.scope/button
```

## Sub-categories with namespaces

Sort components in different sub-categories in the same scope using namespaces. You can have either none or many nested namespaces.

When generating components use `/` to add namespaces:

```sh
bit create react-component inputs/button
```

The component ID will be:

```sh
company.scope/inputs/button
```

### Scoping Component

A scope describes an overarching business concern in your product, system of company. Good scope names are descriptive:

* `base-ui` - all basic UI elements and components for building web-ui.
* `inventory` - set of components relevant for inventory management in an e-commerce app.
* `authentication` - components for managing user authentication and tokens.

Set scope name for components by configuring `workspace.jsonc`:

```jsonc {0} title="workspace.jsonc"
{
  "teambit.workspace/workspace": {
    "name": "My UI Workspace",
    "defaultScope": "teambit.base-ui" // default scope of all workspace components.
  },
  "teambit.workspace/variants": {
    "design": {
      "defaultScope": "teambit.design" // configure all components under the design directory with the `teambit.design` scope.
    }
  }
}
```

If not mentioned otherwise, components will be created in the `defaultScope` config in `teambit.workspace/workspace`. Use `--scope` option to create a component in a different scope:

```sh
bit create react-component forms/login --scope authentication
```

Bit then creates the component in a directory according to the scope passed as an argument.

:::tip Pre-fix scopes with the `.` separator

Bit supports pre-fixing for scopes with an organization name for creating ownership on scopes. Use this to have better control over naming with distributing components across large organizations.

:::

## Get Component ID

There are several options to ensure component ID is set correctly:

1. Run `bit start` and explore the component tree. It is logically structured according to component IDs.
1. `bit show <component>` to see all information on a component.
1. `bit env` shows a table of all components and their applied environment config, including scope name.

The above flows will also print the component module name for using your component as a module by apps or other components.

## Workspace Component Layout

Bit's default behavior for structuring a components in a workspace is sort them in directories by destructuring the component ID and creating a directory tree. This is to make the workspace easier to navigate by creating symmetry between the logical structure of components and their physical location.

When creating new components you can define the component's scope with the following syntax:

```sh
bit create react-component forms/add-product
```

Bit will create the component in the following directory:

```sh
.
└── inventory
    └── forms
        └── add-product
```

## Component Module Name

All components in a workspace are available for consumption as node modules. Bit does it by creating a module for each component in `node_modules` according to it's component ID. However, as Bit heavily utilizes scoping and namespaces, it needs to transform component IDs to module names Node can resolve.

Let's take the following component ID as an example:

```sh title="Component ID with an organization pre-fix"
company.scope/forms/add-product
```

Bit will generate:

```sh title="Organization prefix transforms to npm scope, name is separated by ."
@company/scope.forms.add-product
```

Use the result module name in all your `import * from ...` statements.

:::tip Generate module links

Bit generates module links in `node_module` dir for all components when creating them and during `bit install`. To trigger this action run `bit link`.

:::

## Rename Components

:::info Sugar syntax is coming

Renaming components is a manual task. A `rename` functionality is coming.

:::

Update a component ID is a two step process. The first step is to create a new component and ensure it hsa the right ID defined:

```sh
bit create react-component new/component/name --scope company.scope
```

When you have the right ID:

* Copy the implementation.
* Run `bit dependents <old-component-id>` to get a list of dependent components.
* Refactor all `import {...} from <old-module-name>` to `import {...} from <new-module-name>` for dependent components.

Now your components all use the right component. You can either `deprecate` or `remove` the previous component.

## Component Name Limitations

Bit Components must be require-able by node module resolution. The component ID must fit the same naming constraints for modules in `node_modules` directory:

* Component name length should be greater than zero.
* All the characters in the component name must be lowercase.
* Component name can consist of hyphens.
* Component name must contain only url-safe characters.
* Component name should not contain any leading or trailing spaces.
* Component name should not contain any of the following characters: `~)('!*` .
* Component name cannot be the same as a node.js/io.js core module nor a reserved/blacklisted name.
* Component name length cannot exceed 214.
