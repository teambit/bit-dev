import { Image } from '@teambit/docs.ui.zoomable-image';
import config from './config.png';
import metadata from './metadata.png';

# Component anatomy

A Component contains five types of data: Source code, dependencies, configurations, artifacts and metadata.

## Source code

The 'source code' includes the component's [main file](/components/structure/component-main-file), implementation files and [development files](/components/structure/dev-files). A file is considered part of the component if it is under the same [Component Directory](/workspace/structure/component-directory).

For example:

```bash
bit show teambit.base-react/navigation/link --remote
```

The following output displays the component files. It specifies which of these files are dev files, and which file is the main file:

```bash
┌───────────────────┬────────────────────────────────────────────────────────────────────┐
│ id                │ teambit.base-react/navigation/link@2.0.27                          │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │ ...                                                                │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ main file         │ index.ts                                                           │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ files             │ index.ts                                                           │
│                   │ link.composition.tsx                                               │
│                   │ link.docs.mdx                                                      │
│                   │ link.spec.tsx                                                      │
│                   │ link.tsx                                                           │
│                   │ link.type.ts                                                       │
│                   │ native-link.tsx                                                    │
│                   │ navigation-provider.tsx                                            │
│                   │ routing-provider.tsx                                               │
│                   │ use-location.tsx                                                   │
│                   │ use-navigate.tsx                                                   │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ dev files         │ example/my-router-adapter.demo.tsx (config)                        │
│                   │ link.spec.tsx (teambit.defender/tester)                            │
│                   │ link.composition.tsx (teambit.compositions/compositions)           │
│                   │ link.docs.mdx (teambit.docs/docs)                                  │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │                                                                    │
└───────────────────┴────────────────────────────────────────────────────────────────────┘
```

## Dependencies

['Dependencies'](/dependencies/dependencies-overview) include other components maintained in the same workspace, as well as [external dependencies](/dependencies/external-dependencies).

For example:

```bash
bit show teambit.base-react/navigation/link --remote
```

The following output lists the component dependencies and groups them by their dependency type (regular, dev and peer):

```bash
┌───────────────────┬────────────────────────────────────────────────────────────────────┐
│ id                │ teambit.base-react/navigation/link@2.0.27                          │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │ ...                                                                │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ dependencies      │ @teambit/base-ui.routing.compare-url@1.0.0- (component)            │
│                   │ classnames@2.3.1--------------------------- (package)              │
│                   │ core-js@^3.0.0----------------------------- (package)              │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ dev dependencies  │ @teambit/design.ui.layouts.sections.left-right@1.95.6- (component) │
│                   │ @types/testing-library__jest-dom@5.9.5---------------- (package)   │
│                   │ @babel/runtime@7.12.18-------------------------------- (package)   │
│                   │ @types/jest@^26.0.0----------------------------------- (package)   │
│                   │ @types/react-dom@^17.0.5------------------------------ (package)   │
│                   │ @types/react@^17.0.8---------------------------------- (package)   │
│                   │ @types/node@12.20.4----------------------------------- (package)   │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ peer dependencies │ @testing-library/react@^12.0.0- (package)                          │
│                   │ react-dom@^16.8.0 || ^17.0.0--- (package)                          │
│                   │ react@^16.8.0 || ^17.0.0------- (package)                          │
└───────────────────┴────────────────────────────────────────────────────────────────────┘
```

## Configuration

A [Component's configuration](/components/component-config) consists of the Aspects it uses and the config set for each of them.
For example:

```bash
bit show teambit.base-react/navigation/link --remote
```

The following output displays the list of aspects applied on this component. Some of these aspects contain configuration.

```bash
┌───────────────────┬────────────────────────────────────────────────────────────────────┐
│ id                │ teambit.base-react/navigation/link@2.0.27                          │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │ ...                                                                │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ extensions        │ teambit.envs/envs                                                  │
│                   │ teambit.react/react                                                │
│                   │ teambit.component/dev-files                                        │
│                   │ teambit.compositions/compositions                                  │
│                   │ teambit.docs/docs                                                  │
│                   │ teambit.dependencies/dependency-resolver                           │
│                   │ teambit.pipelines/builder                                          │
│                   │ teambit.pkg/pkg                                                    │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │ ...                                                                │
└───────────────────┴────────────────────────────────────────────────────────────────────┘
```

Head over to [this component's 'aspect' page](https://bit.cloud/teambit/base-react/navigation/link/~aspect) to see the configurations applied on it via its different aspects.
For example, `teambit.component/dev-files` is configured to define files with the filename pattern `"**/*.demo.+(js|ts|jsx|tsx)"` as dev files.

<Image src={config} />

:::info Manual vs programmatic configuration
The config section refers to configuration set directly and manually on a component.
It does not include information that was calculated or set programmatically by the different aspects.
:::

## Metadata

A component's metadata consists of the Aspects it uses and the data they generate and persist in the component.
For example, the previous section ('Configuration') shows the `teambit.component/dev-files` aspect configured to define `"**/*.demo.+(js|ts|jsx|tsx)"` files as dev files.
The calculated result of that configuration, the component's concrete files defined as dev files, is part of this component's metadata and can be seen in the [component's 'aspect' page](https://bit.cloud/teambit/base-react/navigation/link/~aspect).

<Image src={metadata} />

Critical metadata is also available when a component is inspected in the terminal:

```bash
bit show teambit.base-react/navigation/link --remote
```

The output should show the calculated dev file seen previously:

```
┌───────────────────┬────────────────────────────────────────────────────────────────────┐
│ id                │ teambit.base-react/navigation/link@2.0.27                          │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │ ...                                                                │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ dev files         │ example/my-router-adapter.demo.tsx (config)                        │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ extensions        │ teambit.component/dev-files                                        │
├───────────────────┼────────────────────────────────────────────────────────────────────┤
│ ...               │ ...                                                                │
└───────────────────┴────────────────────────────────────────────────────────────────────┘
```

:::info Metadata in development
The metadata for [new](/workspace/workspace-status#new-components) and [modified](/workspace/workspace-status#modified-components) components is re-calculated while in development. This data is persisted only when components are versioned.
:::

## Artifacts


[Artifacts](/dev-services-overview/builder/build-artifacts) are generated during the component [build](/dev-services-overview/builder/build-pipelines). Artifacts are persisted when a Component is snapped or tagged. Each Component version holds the artifacts that were generated as part of its build.


For example:

```bash
bit import teambit.base-react/navigation/link
bit artifacts teambit.base-react/navigation/link
```

The following output groups the component artifacts by the aspect that registered the build task, and then again, by the build task name:

```bash
teambit.base-react/navigation/link@2.0.27
  teambit.compilation/compiler
    TSCompiler
      dist/link.composition.d.ts
      dist/link.composition.js
      dist/link.composition.js.map
      dist/index.d.ts
      dist/index.js
      dist/index.js.map

  teambit.defender/tester
    TestComponents
      __bit_junit.xml

  teambit.preview/preview
    GeneratePreview
      public/asset-manifest.json
      public/index.html
      public/service-worker.js
      public/workbox-84762412.js
      public/static/css/3279.8ff516da.css
      public/static/js/runtime-main.efb35c69.js

  teambit.pkg/pkg
    PackComponents
      package-tar/teambit-community.ui.graph.link-2.0.27
```
