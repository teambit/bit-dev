# Build artifacts

Artifacts are files that are generated by a build task, and persisted in the component objects (the component version). Artifacts are registered in the component version with details regarding the Build Task and Aspect that generated them.

For example, TypeScript's build task generates compiled files, type decelerations and source maps. These artifacts are persisted in the component object when running the snap or tag pipelines.

To list a component's artifacts, use the [`bit artifact`](/reference/cli-reference#artifacts) command and provide the component's ID or full name:

```bash
bit artifacts ui/heading
```

The output lists the artifact file paths, grouped by their corresponding Build Task name and Aspect ID.

```bash
bit-examples/ui/heading@0.0.2
  teambit.compilation/compiler
    TSCompiler
      dist/heading.d.ts
      dist/heading.js
      dist/heading.js.map
      ...

  teambit.preview/preview
    GeneratePreview
      public/asset-manifest.json
      public/index.html
      public/static/css/97.11744cd2.css
      public/static/js/main.db8bd0b0.js
      public/static/js/runtime-main.f8aedb2c.js
      ...

  teambit.pkg/pkg
    PackComponents
      package-tar/company-examples.demo-ui.heading-0.0.2.tgz
```

## Extracting artifacts to the workspace directory

Use the `--out-dir` option to extract artifacts from the component objects to a directory inside your workspace directory:

```
bit artifacts ui/heading --out-dir my-artifacts-directory
```

## Using Builder's artifacts API

Builder provides an [API for retrieving artifacts] from the component objects. Each API receive as arguments, a [Component](https://bit.dev/teambit/component/component/~code/component.ts) (a component object, not the component id) and values to filter the artifacts by,
and returns the artifacts as an array of [`Artifact`](https://bit.dev/teambit/pipelines/builder/~code/artifact/artifact.ts) (Artifacts metadata) or as an array of [`ArtifactVinyl`](https://www.npmjs.com/package/vinyl) (virtual files that contain the file path and content).

For example, let's create an Aspect that use the builder's API to retrieve a component's artifacts metadata, as well as it vinyls (virtual files):

```bash
bit create a aspect aspects/artifacts-retriever
```

The `Component` object (needed as an argument for the artifact API) can be retrieved in any number of ways.
In this example, we'll use the `scope.get()` API, provided by the Scope aspect.

```ts
import { MainRuntime } from '@teambit/cli';
import { BuilderMain, BuilderAspect } from '@teambit/builder';
import { ScopeMain, ScopeAspect } from '@teambit/scope';
import { ComponentID } from '@teambit/component';
import { ArtifactsRetrieverAspect } from './artifacts-retriever.aspect';

export class ArtifactsRetrieverMain {
  static dependencies = [GraphqlAspect, BuilderAspect, ScopeAspect];
  static runtime = MainRuntime;
  static async provider([scope]: [ScopeMain]) {
    // scope.get() expects the ComponentID object - not the component ID string.
    const component = await scope.get(ComponentID.fromString('demo-ui/heading'));

    // Get artifacts files (vinyls)
    const artifactVinyl = await builder.getArtifactsVinylByExtension(component, 'teambit.compilation/compiler');
    artifactVinyl.forEach((vinyl) => {
      const { relativePath, content } = vinyl.toReadableString();
      console.log(relativePath, '|', content); // => dist/index.d.ts | export { Heading } from "./heading"; ...
    });

    // Get artifacts metadata
    const artifacts = await builder.getArtifactsByExtension(component, 'teambit.compilation/compiler');
    console.log(artifacts);
    // =>
    // [
    //   {
    //     name: 'dist',
    //     generatedBy: 'teambit.typescript/typescript',
    //     storage: 'default',
    //     task: { id: 'teambit.compilation/compiler', name: 'TSCompiler' },
    //     files: ArtifactFiles { paths: [], vinyls: [Array], refs: [Array] }
    //   }
    // ]
    return new ArtifactsRetrieverMain();
  }
}

ArtifactsRetrieverAspect.addRuntime(ArtifactsRetrieverMain);
```
