# Build Tasks

The PKG Aspect registers Build Tasks to the different build pipelines, to perform various packaging operations.

## Prepare Packages

The 'Prepare Packages' task is executed as part of the basic build pipeline.

```ts
bit build ui/card
```

This task creates the package (a directory, not a TAR file). It writes to it the component's `package.json` file, and copies to its `dist` directory, the output files of the compiler (`card.js`, `card.d.ts`, `card.js.map`, etc.).

```bash
└── package
    ├── dist
    │   ├── index.d.ts
    │   ├── index.js
    │   ├── index.js.map
    │   ├── card.composition.d.ts
    │   ├── card.composition.js
    │   ├── card.composition.js.map
    │   ├── card.d.ts
    │   ├── card.docs.mdx
    │   ├── card.js
    │   ├── card.js.map
    │   ├── card.module.scss
    │   ├── card.spec.d.ts
    │   ├── card.spec.js
    │   └── card.spec.js.map
    ├── index.ts
    ├── package.json
    ├── card.composition.tsx
    ├── card.docs.mdx
    ├── card.module.scss
    ├── card.spec.tsx
    ├── card.tsx
    ├── tsconfig.json
    └── types
        ├── asset.d.ts
        └── style.d.ts
```

## Publish Dry Run

The 'Prepare Packages' task is executed as part of the basic build pipeline.

```
bit build ui/card
```

This task simulates package publishing, and reports the details of what would have been published (similar to [npm's dry-run](https://docs.npmjs.com/cli/v6/commands/npm-publish)).

## Pack

The 'Pack Components' task is executed as part of the snap pipeline and tag pipeline.

```bash
bit snap io/card
```

```bash
bit tag ui/card
```

This task creates a tarball from the package (that was generated by the ['Prepare Packages'](#prepare-packages) task).

```
company-scope.ui.card-0.0.1.tgz
```

## Publish

The 'Publish' task executes as part of the tag pipeline.

```
bit tag ui/card
```

This only happens if a package is configured to be published to an external commonJS package registry (by default, packages are exported to Bit Cloud, as part of the component version).

```json
{
  "teambit.pkg/pkg": {
    "packageJson": {
      "private": false,
      "publishConfig": {
        "scope": "@giteden",
        "registry": "https://registry.npmjs.org/"
      }
    }
  }
}
```
