# Build Tasks

The PKG Aspect registers Build Tasks to the [Snap](/components/snaps) and [Tag](/components/tags) pipelines, to perform packaging and publishing operations in the [Component Capsule](/components/component-capsules).

<!--
## Publish Dry Run

The 'Prepare Packages' task is executed as part of the basic build pipeline.

```
bit build ui/card
```

This task simulates package publishing, and reports the details of what would have been published (similar to [npm's dry-run](https://docs.npmjs.com/cli/v6/commands/npm-publish)). -->

## Pack Components

The 'Pack Components' task is executed as part of the snap pipeline and tag pipeline.

```bash
bit snap io/card
```

```bash
bit tag ui/card
```

This task creates a tarball from the component's Capsule directory (excluding files defined in the Capsule's `.npmignore`). The [Capsule](/components/component-capsules) contains the component's [`package.json`](package-json), as well as its dist (generated by [Compiler](/dev-services/compiler/compiler-overview)) and source files.

The generate tarball is persisted in the [component version](/components/component-objects).

```bash
$ bit artifacts envs/my-react --task PackComponents

my-workspace/ui/card@0.0.1
  teambit.pkg/pkg
    PackComponents
      package-tar/company-scope.ui.card-0.0.1.tgz
```

## Publish

The 'Publish' task executes as part of the tag pipeline.

```
bit tag ui/card
```

This only happens if a package is configured to be published to an external commonJS package registry (when using Vit Cloud for component hosting, packages, which are stored in the exported component version, are available to be installed as regular packages).

```json
{
  "teambit.pkg/pkg": {
    "packageJson": {
      "name": "@my-reg-scope/{name}",
      "publishConfig": {
        "scope": "@john",
        "registry": "https://registry.some-registry.org/"
      }
    }
  }
}
```
